@startuml
!pragma teoz true
title Robustness - UC8: Assign Donation
hide footbox

skinparam shadowing false
skinparam roundcorner 12
skinparam dpi 200
skinparam maxMessageSize 30	
skinparam sequenceMessageAlign center
skinparam responseMessageBelowArrow true
skinparam ParticipantPadding 18

actor "Branch Manager" as Manager

box "NGO Management System"
boundary "Assignment\nConsole" as UI
control "Task\nDispatcher" as TaskMgr
database "Donation\nDB" as DonDB
database "User\nDB" as UserDB
control "Push\nNotification" as Push
end box

Manager -> UI : assign(donationID, volunteerID)
UI -> TaskMgr : dispatchTask(payload)

TaskMgr -> UserDB : checkAvailability(volunteerID)
UserDB --> TaskMgr : return(available)

TaskMgr -> DonDB : updateStatus('Assigned')
TaskMgr -> DonDB : setAssignee(volunteerID)

TaskMgr -> Push : notifyVolunteer(details)

TaskMgr --> UI : result(success)
UI --> Manager : removeFromPendingList()
@enduml